<div class="payment-wrapper d-flex align-items-center justify-content-center min-vh-100 bg-light p-3">
  <div class="card border-0 shadow-lg p-4 p-md-5 bg-white text-center" style="max-width: 450px; border-radius: 24px;">
    
    <h3 class="fw-bold text-primary mb-4">Kvitari.ge</h3>

    <!-- Loading State -->
    <div *ngIf="loading" class="py-4">
      <div class="spinner-border text-primary mb-3" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="text-muted">ინვოისი იტვირთება...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="!loading && error" class="py-4">
      <i class="bi bi-exclamation-circle text-danger fs-1"></i>
      <p class="mt-3 fw-bold text-dark">{{ error }}</p>
      <a routerLink="/" class="btn btn-outline-primary btn-sm mt-2">მთავარზე დაბრუნება</a>
    </div>

    <!-- Invoice Display -->
    <div *ngIf="!loading && invoice && !error" class="animate__animated animate__fadeIn">
      <span class="text-muted small">გადასახდელი თანხა</span>
      <h1 class="display-4 fw-bold mb-4">₾{{ invoice.amount | number:'1.2-2' }}</h1>

      <div class="bg-light p-3 rounded-4 mb-4 text-start">
        <div class="d-flex justify-content-between mb-2">
          <span class="text-muted small">კომპანია:</span>
          <span class="fw-bold small">{{ invoice.companyName }}</span>
        </div>
        <div class="d-flex justify-content-between">
          <span class="text-muted small">თარიღი:</span>
          <span class="fw-bold small">{{ invoice.createdAt | date:'dd.MM.yyyy' }}</span>
        </div>
      </div>

      <p class="small fw-bold text-secondary mb-3">აირჩიეთ ბანკი:</p>
      
      <div class="d-grid gap-2">
        <button (click)="pay('bog')" 
                class="btn btn-outline-dark py-3 rounded-4 fw-bold d-flex align-items-center justify-content-center gap-2">
          <img src="https://bankofgeorgia.ge/favicon.ico" width="20" alt="BOG"> 
          საქართველოს ბანკი
        </button>
        
        <button (click)="pay('tbc')" 
                class="btn btn-outline-primary py-3 rounded-4 fw-bold d-flex align-items-center justify-content-center gap-2">
          <img src="https://www.tbcbank.ge/favicon.ico" width="20" alt="TBC"> 
          თიბისი ბანკი
        </button>
      </div>
    </div>

  </div>
</div>