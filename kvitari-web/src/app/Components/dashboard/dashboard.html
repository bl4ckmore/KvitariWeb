<div class="d-flex min-vh-100 bg-dark-subtle">
  <div class="sidebar bg-dark text-white p-3 d-none d-lg-block" style="width: 280px;">
    <div class="d-flex align-items-center mb-4 ps-2">
      <i class="bi bi-lightning-charge-fill text-primary fs-3 me-2"></i>
      <span class="fs-4 fw-bold">BILL</span>
    </div>

    <div class="user-profile p-3 bg-secondary bg-opacity-10 rounded-3 mb-4 d-flex align-items-center">
      <div class="avatar bg-primary rounded-circle me-3 d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
        <i class="bi bi-person-fill"></i>
      </div>
      <div>
        <div class="small fw-bold text-truncate" style="max-width: 150px;">{{ role }}</div>
        <div class="extra-small text-muted">ადმინისტრატორი</div>
      </div>
    </div>

    <nav class="nav flex-column gap-2">
      <a class="nav-link custom-side-link active">
        <i class="bi bi-grid-1x2-fill me-3"></i> ჩემი სივრცე
      </a>
      <a class="nav-link custom-side-link">
        <i class="bi bi-wallet2 me-3"></i> ბალანსის შევსება
      </a>
      <a class="nav-link custom-side-link">
        <i class="bi bi-chat-left-text me-3"></i> SMS-ების ყიდვა
      </a>
      <a class="nav-link custom-side-link">
        <i class="bi bi-arrow-left-right me-3"></i> ტრანზაქციები
      </a>
      <div class="border-top border-secondary my-2 opacity-25"></div>
      <a (click)="api.logout()" class="nav-link custom-side-link text-danger">
        <i class="bi bi-box-arrow-left me-3"></i> გასვლა
      </a>
    </nav>
  </div>

  <div class="flex-grow-1">
    <header class="bg-white border-bottom p-3 d-flex justify-content-between align-items-center shadow-sm">
      <div class="d-flex align-items-center">
        <button class="btn d-lg-none me-2"><i class="bi bi-list fs-3"></i></button>
        <h5 class="mb-0 fw-bold text-dark">ჩემი სივრცე</h5>
      </div>
      <div class="d-flex align-items-center gap-3">
        <div class="badge bg-success-subtle text-success border border-success px-3 py-2 rounded-pill">
          19.00 ₾
        </div>
        <i class="bi bi-moon fs-5 text-muted cursor-pointer"></i>
        <i class="bi bi-bell fs-5 text-muted position-relative cursor-pointer">
          <span class="position-absolute top-0 start-100 translate-middle badge border border-light rounded-circle bg-danger p-1"></span>
        </i>
      </div>
    </header>

    <main class="p-4">
      <div class="card border-0 shadow-sm rounded-4 overflow-hidden">
        <div class="card-header bg-white py-3 px-4 d-flex justify-content-between align-items-center border-bottom">
          <h6 class="mb-0 fw-bold">კომპანიები</h6>
          <button class="btn btn-primary btn-sm px-3 rounded-3" (click)="showCreateModal = true">
            <i class="bi bi-plus-lg me-1"></i> დამატება
          </button>
        </div>
        
        <div class="table-responsive">
          <table class="table table-hover align-middle mb-0 custom-dark-table">
            <thead class="bg-light">
              <tr>
                <th class="ps-4">ID</th>
                <th>სახელი</th>
                <th>პაკეტი</th>
                <th>ვადა</th>
                <th>ავტ. გაგრძელება</th>
                <th>SMS</th>
                <th class="text-end pe-4">ქმედება</th>
              </tr>
            </thead>
            <tbody *ngIf="invoices$ | async as invoices">
              <tr *ngFor="let inv of invoices">
                <td class="ps-4 text-primary fw-bold">#{{ inv.id.substring(0,6) }}</td>
                <td class="fw-bold">{{ role }}</td>
                <td><span class="badge bg-primary px-2">ბიზნესი</span></td>
                <td class="text-muted small">2026-01-13</td>
                <td>
                  <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" checked>
                  </div>
                </td>
                <td><span class="badge bg-success">4647 <i class="bi bi-chat-fill ms-1"></i></span></td>
                <td class="text-end pe-4">
                  <button class="btn btn-light btn-sm border" (click)="copyPayLink(inv.id)">
                    <i class="bi bi-eye"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </main>
  </div>
</div>